spring:
  application:
    name: core-api
  profiles:
    active: ${SPRING_PROFILES_ACTIVE}

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  jpa:
    open-in-view: false
  oauth2:
    kakao:
      client-id: ${KAKAO_CLIENT_ID}
      client-secret: ${KAKAO_CLIENT_SECRET:}
      redirect-uri: ${OAUTH2_REDIRECT_URI:http://localhost:8080/api/v1/auth/kakao/callback}
    state:
      secret: ${OAUTH_STATE_SECRET}

  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
    producer:
      acks: ${KAFKA_ACKS:all}
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      properties:
        enable.idempotence: true
    consumer:
      group-id: ${KAFKA_CONSUMER_GROUP_ID:core-api}
      auto-offset-reset: ${KAFKA_AUTO_OFFSET_RESET:earliest}
      enable-auto-commit: false
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: "*"
    listener:
      ack-mode: manual

server:
  port: ${CORE_API_PORT:8080}

aws:
  region: ${AWS_REGION:}
  s3:
    source-bucket: ${S3_BUCKET:}
  presign:
    put-ttl-seconds: 1200
  cloudfront:
    domain: ${AWS_CLOUDFRONT_DOMAIN:}
    keypair-id: ${AWS_CLOUDFRONT_KEY_PAIR_ID:}
    private-key-pem-b64: ${AWS_CLOUDFRONT_PRIVATE_KEY_PEM_B64:}
    ttl: 7200

# JWT 설정
jwt:
  secret: ${JWT_SECRET}
  access-token-expiration: 1800000
  refresh-token-expiration: 1209600000